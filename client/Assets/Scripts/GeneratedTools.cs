using System;
using System.Collections.Generic;

namespace GeneratedTools
{
    /// <summary>
    /// This class was auto-generated by the OllamaSharp ToolSourceGenerator.
    /// </summary>
    public class GetUtcNowTool : OllamaSharp.Models.Chat.Tool, OllamaSharp.Tools.IInvokableTool
    {
        /// <summary>
        /// Initializes a new instance with metadata about the original method.
        /// </summary>
        public GetUtcNowTool()
        {
            this.Function = new OllamaSharp.Models.Chat.Function {
                Name = "GetUtcNow",
                Description = ""
            };

            this.Function.Parameters = new OllamaSharp.Models.Chat.Parameters {
                Properties = new Dictionary<string, OllamaSharp.Models.Chat.Property> {

                },
                Required = Array.Empty<string>()
            };
        }

        /// <summary>
        /// Invokes the tool with given arguments synchronously
        /// </summary>
        /// <param name="args">The arguments to invoke the tool with</param>
        /// <returns>The result of the invoked tool</returns>
        public object? InvokeMethod(IDictionary<string, object?>? args)
        {
            if (args == null) args = new Dictionary<string, object?>();

            var result = Tools.GetUtcNow();
            return result;
        }
    }

    /// <summary>
    /// This class was auto-generated by the OllamaSharp ToolSourceGenerator.
    /// </summary>
    public class RunPythonTool : OllamaSharp.Models.Chat.Tool, OllamaSharp.Tools.IInvokableTool
    {
        /// <summary>
        /// Initializes a new instance with metadata about the original method.
        /// </summary>
        public RunPythonTool()
        {
            this.Function = new OllamaSharp.Models.Chat.Function {
                Name = "RunPython",
                Description = ""
            };

            this.Function.Parameters = new OllamaSharp.Models.Chat.Parameters {
                Properties = new Dictionary<string, OllamaSharp.Models.Chat.Property> {
                    { "code", new() { Type = "string", Description = "Code to run" } }
                },
                Required = new string[] { "code" }
            };
        }

        /// <summary>
        /// Invokes the tool with given arguments synchronously
        /// </summary>
        /// <param name="args">The arguments to invoke the tool with</param>
        /// <returns>The result of the invoked tool</returns>
        public object? InvokeMethod(IDictionary<string, object?>? args)
        {
            if (args == null) args = new Dictionary<string, object?>();
            string code = (string?)args["code"] ?? "";

            var result = Tools.RunPython(code);
            return result;
        }
    }
}
